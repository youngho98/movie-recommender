# ğŸ¬ AI ì˜í™” ì¶”ì²œ ì‹œìŠ¤í…œ

> LangGraphì™€ RAGë¥¼ í™œìš©í•œ ì§€ëŠ¥í˜• í•˜ì´ë¸Œë¦¬ë“œ ì˜í™” ì¶”ì²œ Agent

ëŒ€í™”í˜• AIê°€ ì‚¬ìš©ì ì·¨í–¥ì„ í•™ìŠµí•˜ì—¬ TMDB APIì™€ ë²¡í„° ê²€ìƒ‰ì„ ê²°í•©í•œ ê°œì¸í™”ëœ ì˜í™”ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- ğŸ¤– **ì§€ëŠ¥í˜• ëŒ€í™”**: GPT-4o ê¸°ë°˜ ìì—°ì–´ ì´í•´ ë° ì‘ë‹µ ìƒì„±
- ğŸ” **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰**: TMDB API + RAG ë²¡í„° ê²€ìƒ‰ ê²°í•©
- ğŸ§  **ê°œì¸í™” í•™ìŠµ**: ëŒ€í™”ë¥¼ í†µí•œ ì·¨í–¥ ìë™ í•™ìŠµ ë° í”„ë¡œí•„ êµ¬ì¶•
- ğŸ¯ **ë‹¤ì°¨ì› ë­í‚¹**: í‰ì , ì¸ê¸°ë„, ìœ ì‚¬ë„, ì¥ë¥´ ë§¤ì¹­ì„ ê³ ë ¤í•œ ìŠ¤ë§ˆíŠ¸ ìˆœìœ„í™”

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### AI & ML
- **LangChain** / **LangGraph**: Agent ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- **OpenAI GPT-4o / GPT-4o-mini**: ì˜ë„ ë¶„ì„ ë° ì‘ë‹µ ìƒì„±
- **OpenAI text-embedding-3-small**: ì˜í™” ì„¤ëª… ë²¡í„°í™”

### ë°ì´í„° & ê²€ìƒ‰
- **ChromaDB**: ë²¡í„° ì €ì¥ ë° ìœ ì‚¬ë„ ê²€ìƒ‰
- **TMDB API**: ì˜í™” ë©”íƒ€ë°ì´í„° ë° ì‹¤ì‹œê°„ ì •ë³´

### í”„ë¡ íŠ¸ì—”ë“œ
- **Streamlit**: ëŒ€í™”í˜• ì›¹ ì¸í„°í˜ì´ìŠ¤

### ê°œë°œ ë„êµ¬
- **Python 3.10+**
- **Claude Code**: AI í˜ì–´ í”„ë¡œê·¸ë˜ë°

## ğŸŒŸ ì£¼ìš” íŠ¹ì§•

### 1. LangGraph ì›Œí¬í”Œë¡œìš°

AgentëŠ” 5ë‹¨ê³„ ë…¸ë“œë¡œ êµ¬ì„±ëœ ê·¸ë˜í”„ ê¸°ë°˜ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:

```mermaid
graph TD
    Start([ì‚¬ìš©ì ì…ë ¥]) --> Intent[ì˜ë„ ë¶„ì„<br/>í‚¤ì›Œë“œ ì¶”ì¶œ, ì˜ë„ ë¶„ë¥˜]
    Intent --> TMDB[TMDB ê²€ìƒ‰<br/>ì‹¤ì‹œê°„ ì˜í™” ë°ì´í„°<br/>ìµœëŒ€ 30ê°œ]
    TMDB --> Route{ì¡°ê±´ë¶€ ë¶„ê¸°}
    Route -->|ìµœì‹ /ì‹ ì‘| Rank[ìˆœìœ„ ê³„ì‚°<br/>í•˜ì´ë¸Œë¦¬ë“œ ìŠ¤ì½”ì–´ë§<br/>ìƒìœ„ 5ê°œ]
    Route -->|ê¸°íƒ€| RAG[RAG ê²€ìƒ‰<br/>ë²¡í„° ìœ ì‚¬ë„<br/>ìµœëŒ€ 20ê°œ]
    RAG --> Rank
    Rank --> Response[ì‘ë‹µ ìƒì„±<br/>GPT-4o ìì—°ì–´ ì‘ë‹µ]
    Response --> End([ìµœì¢… ì¶”ì²œ ê²°ê³¼])

    style Start fill:#e1f5ff
    style Intent fill:#fff4e1
    style TMDB fill:#ffe1f5
    style Route fill:#f5e1ff
    style RAG fill:#e1ffe1
    style Rank fill:#ffe1e1
    style Response fill:#fff4e1
    style End fill:#e1f5ff
```

### 2. í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì „ëµ

**TMDB API**
- ì‹¤ì‹œê°„ ë©”íƒ€ë°ì´í„° (í‰ì , ì¸ê¸°ë„, ê°œë´‰ì¼)
- ì¥ë¥´ ê¸°ë°˜ í•„í„°ë§
- ì œëª© ê²€ìƒ‰

**RAG ë²¡í„° ê²€ìƒ‰**
- ì˜í™” ì¤„ê±°ë¦¬ + í‚¤ì›Œë“œ ì„ë² ë”©
- ì˜ë¯¸ ê¸°ë°˜ ìœ ì‚¬ë„ ê³„ì‚°
- "ì¸í„°ìŠ¤í…”ë¼ ê°™ì€ ì˜í™”" ë“± ìœ ì‚¬ ì˜í™” ì¶”ì²œ

**ìŠ¤ì½”ì–´ë§ ì•Œê³ ë¦¬ì¦˜**
```python
ìµœì¢… ì ìˆ˜ = (í‰ì  Ã— 0.5)
          + (ì¸ê¸°ë„ Ã— 0.3)
          + (RAG ìœ ì‚¬ë„ Ã— 2.0)
          + (ì¥ë¥´ ë§¤ì¹­ Ã— 1.5)
          - (íšŒí”¼ ì¥ë¥´ Ã— 5.0)
```

### 3. ê°œì¸í™” ì‹œìŠ¤í…œ

- **ìë™ í”„ë¡œí•„ êµ¬ì¶•**: ëŒ€í™”ì—ì„œ ì„ í˜¸ ì¥ë¥´/ë¶„ìœ„ê¸° ì¶”ì¶œ
- **ì¢‹ì•„ìš”/ì‹«ì–´ìš” í”¼ë“œë°±**: ì˜í™”ë³„ ì„ í˜¸ë„ ìˆ˜ì§‘
- **í”„ë¡œí•„ ê¸°ë°˜ ì¶”ì²œ**: í•™ìŠµëœ ì·¨í–¥ì„ ê²€ìƒ‰ ì¿¼ë¦¬ì— ë°˜ì˜
- **ì„¸ì…˜ ìœ ì§€**: Streamlit ì„¸ì…˜ìœ¼ë¡œ ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ ìœ ì§€

## ğŸ“¦ ì„¤ì¹˜ ë°©ë²•

### 1. ìš”êµ¬ì‚¬í•­

- **Python**: 3.10 ì´ìƒ
- **API í‚¤**:
  - [OpenAI API í‚¤](https://platform.openai.com/api-keys)
  - [TMDB API í‚¤](https://www.themoviedb.org/settings/api)

### 2. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/yourusername/movie-recommender.git
cd movie-recommender

# ê°€ìƒí™˜ê²½ ìƒì„± (ì„ íƒì‚¬í•­)
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  API í‚¤ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤:

```bash
# .env.exampleì„ ë³µì‚¬
cp .env.example .env
```

`.env` íŒŒì¼ ë‚´ìš©:
```env
# OpenAI API
OPENAI_API_KEY=sk-...

# TMDB API
TMDB_API_KEY=your_tmdb_api_key

# ì„ íƒì  ì„¤ì •
CHROMA_DB_PATH=./chroma_db
EMBEDDING_MODEL=text-embedding-3-small
GPT_MODEL=gpt-4o-mini
GPT_RESPONSE_MODEL=gpt-4o
MAX_MOVIES=5000
BATCH_SIZE=100
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### 1. RAG ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶• (ì„ íƒì‚¬í•­)

ì²˜ìŒ ì‹¤í–‰ ì‹œ ë˜ëŠ” ìµœì‹  ì˜í™” ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ RAG DBë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤:

```bash
# í…ŒìŠ¤íŠ¸ìš© (100ê°œ ì˜í™”)
python scripts/build_rag.py --limit 100

# ì‹¤ì œ ìš´ì˜ìš© (5000ê°œ ì˜í™”, ì•½ 30ë¶„ ì†Œìš”)
python scripts/build_rag.py --limit 5000 --start-year 2010 --min-rating 7.0
```

ì˜µì…˜:
- `--limit`: ìˆ˜ì§‘í•  ì˜í™” ìˆ˜ (ê¸°ë³¸: 100)
- `--start-year`: ìˆ˜ì§‘ ì‹œì‘ ì—°ë„ (ê¸°ë³¸: 2000)
- `--min-rating`: ìµœì†Œ í‰ì  (ê¸°ë³¸: 6.0)
- `--persist-dir`: ChromaDB ì €ì¥ ê²½ë¡œ

### 2. ì•± ì‹¤í–‰

```bash
streamlit run app.py
```

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8501` ì ‘ì†

### 3. ì‚¬ìš© ë°©ë²•

1. ì±„íŒ…ì°½ì— ì˜í™” ê´€ë ¨ ì§ˆë¬¸ ì…ë ¥:
   - "SF ì˜í™” ì¶”ì²œí•´ì¤˜"
   - "ì¸í„°ìŠ¤í…”ë¼ ê°™ì€ ì˜í™”"
   - "ê°ë™ì ì¸ ë“œë¼ë§ˆ ì°¾ì•„ì¤˜"

2. ì¶”ì²œ ë°›ì€ ì˜í™”ì— ì¢‹ì•„ìš”/ì‹«ì–´ìš” í´ë¦­

3. ì‚¬ì´ë“œë°”ì—ì„œ í•™ìŠµëœ ì·¨í–¥ í™•ì¸

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
movie-recommender/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config.py              # ì „ì—­ ì„¤ì • ë° í™˜ê²½ ë³€ìˆ˜
â”‚   â”œâ”€â”€ tmdb/
â”‚   â”‚   â””â”€â”€ api.py             # TMDB API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ rag/
â”‚   â”‚   â”œâ”€â”€ embeddings.py      # OpenAI ì„ë² ë”© ìƒì„±
â”‚   â”‚   â”œâ”€â”€ vector_store.py    # ChromaDB ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ search.py          # RAG ê²€ìƒ‰ ì—”ì§„
â”‚   â””â”€â”€ agent/
â”‚       â”œâ”€â”€ state.py           # Agent ìƒíƒœ ì •ì˜
â”‚       â”œâ”€â”€ nodes.py           # LangGraph ë…¸ë“œ í•¨ìˆ˜
â”‚       â””â”€â”€ graph.py           # Agent ì›Œí¬í”Œë¡œìš° ê·¸ë˜í”„
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ build_rag.py           # RAG DB êµ¬ì¶• ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ app.py                     # Streamlit ì•±
â”œâ”€â”€ requirements.txt           # Python ì˜ì¡´ì„±
â”œâ”€â”€ .env.example               # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”œâ”€â”€ .gitignore                 # Git ì œì™¸ íŒŒì¼
â”œâ”€â”€ CLAUDE.md                  # Claude Code ê°œë°œ ê°€ì´ë“œ
â””â”€â”€ README.md                  # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### ì‹œìŠ¤í…œ ë‹¤ì´ì–´ê·¸ë¨

```mermaid
graph TB
    User([ğŸ‘¤ ì‚¬ìš©ì]) -->|ì±„íŒ… ì…ë ¥| UI[Streamlit ì•±<br/>app.py]

    subgraph UI_Layer[" "]
        UI -->|ì±„íŒ… ì¸í„°í˜ì´ìŠ¤<br/>í”„ë¡œí•„ ê´€ë¦¬<br/>ì˜í™” ì¹´ë“œ í‘œì‹œ| Agent
    end

    subgraph Agent_Layer["ğŸ¤– LangGraph Agent"]
        Agent[Agent ì‹œì‘] --> Node1[1ï¸âƒ£ ì˜ë„ ë¶„ì„]
        Node1 -->|GPT-4o-mini| OpenAI1[OpenAI API]
        Node1 --> Node2[2ï¸âƒ£ TMDB ê²€ìƒ‰]
        Node2 -->|ì˜í™” ë©”íƒ€ë°ì´í„°| TMDB[(TMDB API)]
        Node2 --> Node3[3ï¸âƒ£ RAG ê²€ìƒ‰<br/>ì¡°ê±´ë¶€]
        Node3 -->|ë²¡í„° ê²€ìƒ‰| ChromaDB[(ChromaDB)]
        Node3 --> Node4[4ï¸âƒ£ ìˆœìœ„ ê³„ì‚°<br/>ìŠ¤ì½”ì–´ë§]
        Node4 --> Node5[5ï¸âƒ£ ì‘ë‹µ ìƒì„±]
        Node5 -->|GPT-4o| OpenAI2[OpenAI API]
    end

    Node5 --> Result([ğŸ¬ ìµœì¢… ì¶”ì²œ ê²°ê³¼])
    Result --> User

    style User fill:#e1f5ff
    style UI fill:#fff4e1
    style Agent fill:#ffe1f5
    style Node1 fill:#f0f0f0
    style Node2 fill:#f0f0f0
    style Node3 fill:#f0f0f0
    style Node4 fill:#f0f0f0
    style Node5 fill:#f0f0f0
    style Result fill:#e1ffe1
    style TMDB fill:#ffe1e1
    style ChromaDB fill:#ffe1e1
    style OpenAI1 fill:#e1e1ff
    style OpenAI2 fill:#e1e1ff
```

### ë°ì´í„° íë¦„

1. **ì…ë ¥ ë‹¨ê³„**: ì‚¬ìš©ì ì…ë ¥ â†’ í”„ë¡œí•„ ë¡œë“œ
2. **ë¶„ì„ ë‹¨ê³„**: GPT-4o-minië¡œ ì˜ë„/í‚¤ì›Œë“œ ì¶”ì¶œ
3. **ê²€ìƒ‰ ë‹¨ê³„**:
   - TMDB: ì¥ë¥´/ì œëª© ê¸°ë°˜ ê²€ìƒ‰
   - RAG: ì„ë² ë”© ìœ ì‚¬ë„ ê²€ìƒ‰
4. **ë³‘í•© ë‹¨ê³„**: ì¤‘ë³µ ì œê±° ë° í•˜ì´ë¸Œë¦¬ë“œ ìŠ¤ì½”ì–´ ê³„ì‚°
5. **ì¶œë ¥ ë‹¨ê³„**: GPT-4oë¡œ ìì—°ì–´ ì‘ë‹µ ìƒì„±
6. **í•™ìŠµ ë‹¨ê³„**: í”„ë¡œí•„ ì—…ë°ì´íŠ¸ (ë°±ê·¸ë¼ìš´ë“œ)

## ğŸ“Š ì„±ëŠ¥ ì§€í‘œ

### ì‘ë‹µ ì‹œê°„ (í‰ê· )
- ì˜ë„ ë¶„ì„: ~2ì´ˆ
- TMDB ê²€ìƒ‰: ~1ì´ˆ
- RAG ê²€ìƒ‰: ~3ì´ˆ
- ìˆœìœ„ ê³„ì‚°: <1ì´ˆ
- ì‘ë‹µ ìƒì„±: ~3ì´ˆ
- **ì´ ì†Œìš” ì‹œê°„**: ì•½ 10ì´ˆ

### ë¹„ìš© (ìš”ì²­ë‹¹)
- GPT-4o-mini (ì˜ë„ ë¶„ì„): ~$0.001
- GPT-4o (ì‘ë‹µ ìƒì„±): ~$0.005
- Embedding (í”„ë¡œí•„ ì—…ë°ì´íŠ¸): ~$0.0001
- **ì´ ë¹„ìš©**: ~$0.006/ìš”ì²­

### RAG DB êµ¬ì¶•
- 5000ê°œ ì˜í™”: ~30ë¶„
- ì„ë² ë”© ë¹„ìš©: ~$0.05
- ì €ì¥ ê³µê°„: ~500MB

## ğŸ‘¨â€ğŸ’» ê°œë°œ í”„ë¡œì„¸ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” **AI í˜ì–´ í”„ë¡œê·¸ë˜ë°** ë°©ì‹ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤:

### ì—­í•  ë¶„ë‹´

**ê°œë°œì (ì§ì ‘ ìˆ˜í–‰)**
- ì•„í‚¤í…ì²˜ ì„¤ê³„
- ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„ (ìŠ¤ì½”ì–´ë§, ë¼ìš°íŒ…)
- ë°ì´í„° íë¦„ ì„¤ê³„
- ì½”ë“œ ë¦¬ë·° ë° ê²€ì¦
- í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹…

**Claude Code (AI í˜‘ì—…)**
- ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œ ìƒì„±
- API í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„
- ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§
- Docstring ë° ì£¼ì„
- ì½”ë“œ ë¦¬íŒ©í† ë§

### ê°œë°œ ì›ì¹™

CLAUDE.mdì— ì •ì˜ëœ ì½”ë”© ê·œì¹™ ì¤€ìˆ˜:
- ëª¨ë“  í•¨ìˆ˜ì— íƒ€ì… íŒíŒ… í•„ìˆ˜
- Google Style Docstring í•„ìˆ˜
- ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹… í•„ìˆ˜
- ëª…í™•í•œ ë³€ìˆ˜ëª… ì‚¬ìš©

### ì² í•™

> "AIëŠ” íƒ€ì´í•‘ ì‹œê°„ì„ ì¤„ì—¬ì£¼ëŠ” ë„êµ¬ì¼ ë¿,
> ìµœì¢… ì±…ì„ê³¼ ì´í•´ëŠ” ê°œë°œìì—ê²Œ ìˆìŠµë‹ˆë‹¤."

## ğŸ› ì•Œë ¤ì§„ ì´ìŠˆ

- RAG ê²€ìƒ‰ ì‹œ í•œêµ­ì–´ ì„ë² ë”© í’ˆì§ˆ ê°œì„  í•„ìš”
- ì‚¬ìš©ì í”„ë¡œí•„ ì˜êµ¬ ì €ì¥ ë¯¸ì§€ì› (ì„¸ì…˜ ì¢…ë£Œ ì‹œ ì´ˆê¸°í™”)
- ëŒ€ìš©ëŸ‰ ëŒ€í™” íˆìŠ¤í† ë¦¬ ì‹œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€

## ğŸ¤ ê¸°ì—¬ ë°©ë²•

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

## ğŸ“§ ì—°ë½ì²˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜: youngho.dev@gmail.com

í”„ë¡œì íŠ¸ ë§í¬: [https://github.com/youngho98/movie-recommender](https://github.com/youngho98/movie-recommender)
